# PGIAgent 环境变量配置
# 复制此文件为 .env 并填写实际值

# ========== 大模型API配置 ==========
# DeepSeek API
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# 通义千问API
QWEN_API_KEY=your_qwen_api_key_here
QWEN_MODEL=qwen-max

# OpenAI兼容API（用于其他服务）
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4-turbo

# 本地模型（Ollama）
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2

# ========== 视觉模型配置 ==========
# YOLO模型路径
YOLO_MODEL_PATH=./models/yolo11n.pt
YOLO_ENGINE_PATH=./models/yolo11n.engine  # TensorRT引擎
YOLO_CONF_THRESHOLD=0.8
YOLO_IMG_SIZE=320

# VLM配置
VLM_PROVIDER=qwen  # qwen, local, openai
VLM_MODEL=qwen-vl-max

# OCR配置
OCR_PROVIDER=easyocr  # easyocr, tesseract
OCR_LANGUAGES=['ch_sim', 'en']  # EasyOCR支持的语言
TESSERACT_LANG=chi_sim+eng  # Tesseract语言

# ========== ROS2配置 ==========
# 话题名称
ROS_CAMERA_TOPIC=/depth_cam/rgb/image_raw
ROS_DEPTH_TOPIC=/depth_cam/depth/image_raw
ROS_LIDAR_TOPIC=/scan
ROS_CMD_VEL_TOPIC=/cmd_vel
ROS_ODOM_TOPIC=/odom

# 服务名称
ROS_MOVE_SERVICE=/pgi_agent/move
ROS_YOLO_SERVICE=/pgi_agent/yolo_detect
ROS_VLM_SERVICE=/pgi_agent/vlm_detect
ROS_TRACK_SERVICE=/pgi_agent/track
ROS_OBSTACLE_SERVICE=/pgi_agent/check_obstacle
ROS_OCR_SERVICE=/pgi_agent/ocr

# ========== 机器人安全配置 ==========
# 移动限制
MAX_LINEAR_VELOCITY=0.5  # m/s
MAX_ANGULAR_VELOCITY=1.0  # rad/s
DEFAULT_MOVE_VELOCITY=0.2  # m/s
DEFAULT_MOVE_SECONDS=2.0  # s

# 安全距离
MIN_OBSTACLE_DISTANCE=0.3  # m
EMERGENCY_STOP_DISTANCE=0.2  # m
PERSON_TRACKING_DISTANCE=1.2  # m

# ========== 智能体行为配置 ==========
# 执行控制
MAX_ITERATIONS=20
USE_REFLECTION=true
REFLECTION_DEPTH=2
MAX_RETRIES=3

# 工具配置
YOLO_DEFAULT_THRESHOLD=0.8
TRACKING_TARGET=person

# ========== 日志和调试 ==========
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
ENABLE_VISUALIZATION=true
SAVE_DEBUG_IMAGES=false
DEBUG_IMAGE_PATH=./debug_images

# ========== 网络配置 ==========
# API超时设置
API_TIMEOUT=30  # seconds
API_MAX_RETRIES=3

# 代理设置（如果需要）
HTTP_PROXY=
HTTPS_PROXY=
NO_PROXY=localhost,127.0.0.1

# ========== 存储配置 ==========
# 数据保存
SAVE_TASK_HISTORY=true
TASK_HISTORY_PATH=./task_history
MAX_HISTORY_DAYS=30

# 模型缓存
MODEL_CACHE_PATH=./model_cache
ENABLE_MODEL_CACHE=true

# ========== 性能优化 ==========
# Jetson Orin Nano优化
USE_TENSORRT=true
USE_FP16=true
GPU_MEMORY_LIMIT_MB=2048

# 图像处理
IMAGE_RESIZE_WIDTH=640
IMAGE_RESIZE_HEIGHT=480
ENABLE_IMAGE_COMPRESSION=true

# ========== 测试配置 ==========
# 测试模式
TEST_MODE=false
SIMULATE_TOOLS=true  # 模拟工具调用，不实际连接ROS
MOCK_API_RESPONSES=false

# 注意：实际部署时请确保安全配置符合现场要求
# 特别是安全距离和速度限制需要根据实际环境调整